<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>CSN.mxml</title>
<link rel="stylesheet" type="text/css" href="../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">
Main application class.

</span><span class="MXMLASDoc">--&gt;</span>
<span class="MXMLComponent_Tag">&lt;s:Application</span><span class="MXMLDefault_Text"> xmlns:fx="</span><span class="MXMLString">http://ns.adobe.com/mxml/2009</span><span class="MXMLDefault_Text">" 
               xmlns:s="</span><span class="MXMLString">library://ns.adobe.com/flex/spark</span><span class="MXMLDefault_Text">" 
               xmlns:mx="</span><span class="MXMLString">library://ns.adobe.com/flex/mx</span><span class="MXMLDefault_Text">" 
               xmlns:esri="</span><span class="MXMLString">http://www.esri.com/2008/ags</span><span class="MXMLDefault_Text">" 
               xmlns:components="</span><span class="MXMLString">wcmc.components.*</span><span class="MXMLDefault_Text">" 
               xmlns:classes="</span><span class="MXMLString">wcmc.classes.*</span><span class="MXMLDefault_Text">" 
               xmlns:symbols="</span><span class="MXMLString">com.esri.ags.symbols.*</span><span class="MXMLDefault_Text">" 
               xmlns:reflexutil="</span><span class="MXMLString">net.kandov.reflexutil.*</span><span class="MXMLDefault_Text">"
               xmlns:supportClasses="</span><span class="MXMLString">com.esri.ags.components.supportClasses.*</span><span class="MXMLDefault_Text">" 
               minWidth="</span><span class="MXMLString">955</span><span class="MXMLDefault_Text">" 
               minHeight="</span><span class="MXMLString">600</span><span class="MXMLDefault_Text">" 
               currentState="</span><span class="MXMLString">home</span><span class="MXMLDefault_Text">"
               pageTitle="</span><span class="MXMLString">Critical Site Network Tool</span><span class="MXMLDefault_Text">" 
               initialize="</span><span class="ActionScriptDefault_Text">initialise</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
               currentStateChanging="</span><span class="ActionScriptDefault_Text">setTransitionTargets</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
               currentStateChange="</span><span class="ActionScriptDefault_Text">application1_currentStateChangeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" viewSourceURL="</span><span class="MXMLString">srcview/index.html</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span><span class="MXMLComment">--&gt;</span>
     
    <span class="MXMLSpecial_Tag">&lt;fx:Style</span><span class="MXMLDefault_Text"> source="</span><span class="MXMLString">styles.css</span><span class="MXMLDefault_Text">"</span><span class="MXMLSpecial_Tag">/&gt;</span>
 
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Metadata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;fx:Metadata&gt;</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">ResourceBundle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"myResources"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">]</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Metadata&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Declarations ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span><span class="MXMLComment">--&gt;</span>

    <span class="MXMLSpecial_Tag">&lt;fx:Declarations&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">&lt;reflexutil:ReflexUtil/&gt;</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Formatters</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Formatting class used to format the year in the time-slider toolbar on the species page</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:DateFormatter</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">myDateFormatter</span><span class="MXMLDefault_Text">" formatString="</span><span class="MXMLString">YYYY</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The initial geographic extent of the map when the application loads</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;esri:Extent</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">initialExtent</span><span class="MXMLDefault_Text">" xmin="</span><span class="MXMLString">2000000</span><span class="MXMLDefault_Text">" ymin="</span><span class="MXMLString">4000000</span><span class="MXMLDefault_Text">" xmax="</span><span class="MXMLString">2100000</span><span class="MXMLDefault_Text">" ymax="</span><span class="MXMLString">10000000</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;esri:SpatialReference</span><span class="MXMLDefault_Text"> wkid="</span><span class="MXMLString">102100</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/esri:Extent&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The main navigation tools that are shown at the top of the map which allow the user to use all of the standard GIS type tools in the application.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:NavigationTool</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">navTool</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Effects</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 0.35</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn04</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0.35</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut04</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0.35</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 0.5</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn05</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut05</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 0.6</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn06</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0.6</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut06</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0.6</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 0.7</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn07</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0.7</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut07</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0.7</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 0.8</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn08</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0.8</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut08</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0.8</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer in when the image/data has loaded to alpha of 1</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn10</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades the layer out when the image/data has loaded to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;classes:DelayedFade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut10</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades a component in to alpha of 1</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;s:Fade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeIn</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Fades a component out to alpha of 0</span><span class="MXMLASDoc">--&gt;</span>        
        <span class="MXMLComponent_Tag">&lt;s:Fade</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fadeOut</span><span class="MXMLDefault_Text">" alphaFrom="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">" alphaTo="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" duration="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Filters</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A drop shadow filter with an alpha of 0.4 used in the legend component</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:DropShadowFilter</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">shadow</span><span class="MXMLDefault_Text">" alpha="</span><span class="MXMLString">0.4</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Map Symbols</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">these are no longer used as the map data for all of these layers is now loaded as a dynamic map service
        &lt;classes:MySimpleMarkerSymbol id="iwcSymbol" color="0x0000FF" style="circle" size="13" alpha="0.5" legendCaption="{resourceManager.getString('myResources', 'TEXT157')}"&gt;&lt;esri:SimpleLineSymbol alpha="0.5"/&gt;&lt;/classes:MySimpleMarkerSymbol&gt;
        &lt;classes:MySimpleMarkerSymbol id="sitePointSymbol" color="0xFF00FF" style="circle" size="13" legendCaption="{resourceManager.getString('myResources', 'TEXT150')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleMarkerSymbol&gt;
        &lt;classes:MySimpleFillSymbol id="sitePolySymbol" color="0xFF00FF" legendCaption="{resourceManager.getString('myResources', 'TEXT151')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleFillSymbol&gt;
        &lt;classes:MySimpleMarkerSymbol id="wdpaPointSymbol" color="0xff0000" style="circle" size="13" legendCaption="{resourceManager.getString('myResources', 'TEXT152')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleMarkerSymbol&gt;
        &lt;classes:MySimpleFillSymbol id="wdpaPolySymbol" color="0xff0000" legendCaption="{resourceManager.getString('myResources', 'TEXT153')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleFillSymbol&gt;
        &lt;classes:MySimpleMarkerSymbol id="ramsarPointSymbol" color="0x44FF00" style="triangle" size="23" legendCaption="{resourceManager.getString('myResources', 'TEXT154')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleMarkerSymbol&gt;
        &lt;classes:MySimpleFillSymbol id="ramsarPolySymbol" color="0x44FF00" legendCaption="{resourceManager.getString('myResources', 'TEXT155')}"&gt;&lt;esri:SimpleLineSymbol/&gt;&lt;/classes:MySimpleFillSymbol&gt;</span><span class="MXMLComment">--&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Renderers for the Critical Sites</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A set of renderers that are used to render the map data for the critical sites on the species page. @see wcmc.classes.RendererChooser </span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:ArrayCollection</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">csnRenderers</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT156'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">presence</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:SimpleRenderer&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xFF00FF</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT157'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:SimpleRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">flyway name</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyUniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">FlyRecID</span><span class="MXMLDefault_Text">" legendLabelField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;classes:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffaa00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x00c5ff</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xc500ff</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">4</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x267300</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xff0000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">6</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x004da8</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">7</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xa3ff73</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">9</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x730000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x000000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">11</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x000000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/classes:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/classes:MyUniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT159'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">season</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:UniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Season</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">breeding</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xfcfc39</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT160'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">non-breeding</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x1e89fb</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT161'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">passage</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x0ee1011</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT162'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">winter</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xd730fb</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT163'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">resident</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x1d8216</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT164'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">unknown</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xcccccc</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT141'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT191'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">mean population</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">PopMean</span><span class="MXMLDefault_Text">" classes="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" maxSymbolSize="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MyClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT167'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">percent flyway</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:ClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">PercentFlyway</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:ClassBreakInfo</span><span class="MXMLDefault_Text"> maxValue="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:symbol&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> size="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" color="</span><span class="MXMLString">0xFF0000</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">0% - 1%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:symbol&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:ClassBreakInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:ClassBreakInfo</span><span class="MXMLDefault_Text"> minValue="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">" maxValue="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:symbol&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> size="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" color="</span><span class="MXMLString">0xFF0000</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">1% - 5%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:symbol&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:ClassBreakInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:ClassBreakInfo</span><span class="MXMLDefault_Text"> minValue="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:symbol&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> size="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">" color="</span><span class="MXMLString">0xFF0000</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">5% - 100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
                                    <span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:symbol&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:ClassBreakInfo&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:ClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">protection status</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:UniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">whole</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x00ff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT169'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">little/none</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xff0000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT170'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">unknown</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x0000ff</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT141'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">some</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT171'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">most</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT172'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:ArrayCollection&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Renderers for the IBA Sites</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A set of renderers that are used to render the map data for the IBA sites on the species page. @see wcmc.classes.RendererChooser </span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:ArrayCollection</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ibaRenderers</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT156'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">presence</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:SimpleRenderer&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xFFAA00</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT157'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:SimpleRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT159'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">season</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:UniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Season</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">breeding</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xfcfc39</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT160'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">non-breeding</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x1e89fb</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT161'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">passage</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x0ee1011</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT162'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">winter</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xd730fb</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT163'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">resident</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x1d8216</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT164'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">unknown</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x1d8216</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT141'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT191'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">population mean</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">PopMean</span><span class="MXMLDefault_Text">" classes="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" maxSymbolSize="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MyClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">protection status</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:UniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">whole</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x00ff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT169'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">little/none</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xff0000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT170'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">unknown</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x0000ff</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT141'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">some</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT171'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">most</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT172'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:ArrayCollection&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Renderers for the Reports Site List</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A set of renderers that are used to render the sites on the reports page. @see wcmc.classes.RendererChooser </span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:ArrayCollection</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">siteListRenderers</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT156'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">presence</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:SimpleRenderer&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xFF00FF</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT157'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:SimpleRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">protection status</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;esri:UniqueValueRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;esri:infos&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">whole</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x00ff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT169'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">little/none</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xff0000</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT170'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">unknown</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0x0000ff</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT141'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">some</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT171'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;esri:UniqueValueInfo</span><span class="MXMLDefault_Text"> value="</span><span class="MXMLString">most</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;classes:MySimpleMarkerSymbol</span><span class="MXMLDefault_Text"> color="</span><span class="MXMLString">0xffff00</span><span class="MXMLDefault_Text">" size="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">circle</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT172'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MySimpleMarkerSymbol&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueInfo&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/esri:infos&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/esri:UniqueValueRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT173'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">number of critical species</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">CSNSpc</span><span class="MXMLDefault_Text">" classes="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" maxSymbolSize="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MyClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT174'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">number of IBA species</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">IBASpc</span><span class="MXMLDefault_Text">" classes="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" maxSymbolSize="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MyClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:RendererOption</span><span class="MXMLDefault_Text"> UIText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT243'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">total percentage</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;classes:renderer&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;classes:MyClassBreaksRenderer</span><span class="MXMLDefault_Text"> attribute="</span><span class="MXMLString">Total</span><span class="MXMLDefault_Text">" classes="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">" maxSymbolSize="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span><span class="MXMLComponent_Tag">&lt;classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> alpha="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:simpleLineSymbol&gt;</span><span class="MXMLComponent_Tag">&lt;/classes:MyClassBreaksRenderer&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/classes:renderer&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:RendererOption&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:ArrayCollection&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A QueryTask that is used to retrieve a list of countries for the tools on the Reports page for species and populations lists for a country.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:QueryTask</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">countryQueryTask</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Reports/MapServer/3</span><span class="MXMLDefault_Text">" showBusyCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The Query object for the countryQueryTask. The where value is set to CountryID&gt;-1 to retrieve all countries.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:Query</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">countryQuery</span><span class="MXMLDefault_Text">" outFields="</span><span class="MXMLString">*</span><span class="MXMLDefault_Text">" returnGeometry="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">" where="</span><span class="MXMLString">CountryID&gt;-1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The IdentifyParameters object used when the user clicks on the map. The default values are a tolerance of 4, the current maps width,height and extent and all layers.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:IdentifyParameters</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">identifyParameters</span><span class="MXMLDefault_Text">" tolerance="</span><span class="MXMLString">4</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" geometry="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" mapExtent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" spatialReference="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" layerOption="</span><span class="MXMLString">all</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span> 

    <span class="MXMLSpecial_Tag">&lt;/fx:Declarations&gt;</span>

    <span class="MXMLComponent_Tag">&lt;s:states&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">home</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">speciesSearch</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">siteSearch</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">info</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/s:states&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> UI components ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The main mapping component in the application. The map component is used to display all of the spatial layers in the CSN tool which come from a range of sources. The base map imagery comes from ESRI ArcGIS Online and from Microsoft Bing map services. There can be switched on and off using the Basemaps gallery. Then there are a range of MapServices published from ArcGIS Server for the business layers, i.e. all of the data layers relating to the CSN tool.
     These layers are currently published from the following ArcGIS REST Services Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN. However, in the future these servies may be published from an instance of Amazon EC2 to make the application more scalable. In addition, it is envisaged that in future releases of the CSN tool, some of the data layers will be published directly from the data providers, e.g. UNEP-WCMC will publish the World Database on Protected Areas directly from the protectedPlanet website.&lt;p&gt;All of the 
     map layers in the map are switched on/off using the relevant UI controls, in all cases these are simple check boxes that are bound to the visible property of the layer. In some cases the visibility of the consittuent layer is also dependent on the state of the application. So for example, the species distribution layer is only visible when the checkbox is selected and the current state of th application is 'species'.&lt;/p&gt;&lt;p&gt;The type of layer that is shown in the map depends on where it is used. So for example, if the user requests a map of species distribution, then a dynamic map service layer is shown since the user does not need access tot he raw data. However, in other cases the user may require accerss to the actual data (e.g. for critical sites) and in these cases feature layers are used in snapshot mode to return all of the data to the client so that it can be shown in any data tables. In addition, once the data has been returned to the client then it can be rendered on the client according to their requirements withouth having to reload the data from the server.&lt;/p&gt;&lt;p&gt;The map interaction is minimal with a small number of tools for navigating the map (using the ESRI map controls) and a single IdentifyTask which executes if the user clicks on the map.
    The results of the identify task are then matched to the layer and are shown using that layers infoWindow. In this way a single infoWindow is recycled for all query operations.&lt;/p&gt;</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyMap</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">map</span><span class="MXMLDefault_Text">" layoutDirection="</span><span class="MXMLString">ltr</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" extent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">initialExtent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" creationComplete="</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">closeButtonVisible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labelVisible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">" pointToolClick="</span><span class="ActionScriptDefault_Text">map_pointToolClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" timeSlider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">timeSlider</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" extentChange="</span><span class="ActionScriptDefault_Text">map_extentChangeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" mapClick="</span><span class="ActionScriptDefault_Text">map_mapClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>

        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The Microsoft Bing imagery and roads layer in the map. The type of base map is selected using the Basemap gallery.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:VETiledLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">bingLayer</span><span class="MXMLDefault_Text">" key="</span><span class="MXMLString">AgfQ61misLHV_Uq7B8bDf4rMvZZL61oSi8JDxM6I0ImhV3-uO2QPqFMfWe9MK8ar</span><span class="MXMLDefault_Text">" culture="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">culture</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" mapStyle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapStyle</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isBing</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The ESRI ArcGIS Online imagery layer. The type of base map is selected using the Basemap gallery</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:ArcGISTiledMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">arcgisOnlineImagery</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" load="</span><span class="ActionScriptDefault_Text">arcgistiledmapservicelayer1_loadHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isBing</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The ESRI ArcGIS Online labels layer. The type of base map is selected using the Basemap gallery</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;esri:ArcGISTiledMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">arcgisOnlineLabels</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labelurl</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labelurl</span><span class="ActionScriptOperator">!=</span><span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isBing</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">SPECIES PAGE LAYERS</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species distribution layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species distribution layer is the first layer in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer. The species that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">distributionMap</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dmapLegend</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT103'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:layerDefinitions&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLDefault_Text">SpcRecID={speciesBox.species.spcRecID}</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">species distribution</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:layerDefinitions&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">0</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species flyways layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species flyways layer is the second layer in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer. The species that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">flywaysMap</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" showlegend="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:layerDefinitions&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">species distribution</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLDefault_Text">SpcRecID={speciesBox.species.spcRecID}</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">flyways</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:layerDefinitions&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span> 
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">1</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                  
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species CSN layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species critical sites layer is the third layer in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer. The species that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url. The FeatureLayer is a snapshot feature layer so that all of the data for the species is returned to the client to display in the data table.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyFeatureLayer</span><span class="MXMLDefault_Text"> url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer/2</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">csnMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" id="</span><span class="MXMLString">csnFeatureLayer</span><span class="MXMLDefault_Text">" outFields="</span><span class="MXMLString">[SiteRecID,Country,Name,Protected,SpcRecID,FlyRecID,Flyway,YearStart,YearEnd,PopMin,PopMax,PopMean,PercentFlyway,Season,Unit,IBACriteria,CSN1,CSN2,IsIBA,IsPoly]</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" definitionExpression="</span><span class="MXMLString">SpcRecID={</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" mode="</span><span class="MXMLString">snapshot</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT107'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" renderer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnRenderer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentRenderer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.SiteInfoWindowWithLink</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species IBA layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species IBA layer is the fourth layer in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer. The species that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url. The FeatureLayer is a snapshot feature layer so that all of the data for the species is returned to the client to display in the data table.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyFeatureLayer</span><span class="MXMLDefault_Text"> url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer/3</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ibaMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" id="</span><span class="MXMLString">ibaFeatureLayer</span><span class="MXMLDefault_Text">" outFields="</span><span class="MXMLString">[SiteRecID,Country,Name,Protected,SpcRecID,YearStart,YearEnd,PopMin,PopMax,PopMean,Season,Unit,IBACriteria,IsPoly]</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" definitionExpression="</span><span class="MXMLString">SpcRecID={</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" mode="</span><span class="MXMLString">snapshot</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT109'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" renderer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaRenderer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentRenderer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.SiteInfoWindow</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species IWC site layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species IWC layer is the fifth layer in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer. The species that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">iwcMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn08</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut08</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT149'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.IWCChartInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesIWCL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:layerDefinitions&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span> 
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">species distribution</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">flyways</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">CSN</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IBA</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLDefault_Text">SpcRecID={speciesBox.species.spcRecID}</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IWC</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:layerDefinitions&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">4</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species IWC Time Slider layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The species IWC time slider layer is the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/IWCTimeSlider/MapServer. The species and year that is shown is set using a DefinitionExpression on the MapService using the current SpcRecID in the url and the year from the timeslider control that is shown when the user turns on the IWC time slider. This service is separate from the other services because it accesses and maps over 60 million records.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/IWCTimeSlider/MapServer</span><span class="MXMLDefault_Text">" id="</span><span class="MXMLString">iwcNonCumulativeTimeLayer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSliderTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" load="</span><span class="ActionScriptDefault_Text">iwcNonCumulativeTimeLayer_loadHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT149'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} ({</span><span class="ActionScriptDefault_Text">myDateFormatter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">format</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeSlider</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">endTime</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">})</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSeriesMap</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.IWCCountInfoWindow</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:layerDefinitions&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLDefault_Text">SpcRecID={speciesBox.species.spcRecID}</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:layerDefinitions&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">0</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">SITES PAGE LAYERS</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Critical Site layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The critical sites layer represents the point and polygon critical sites (the first and second layers) in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer. Unlike the species layers, there are no definition expressions on the sites layers since all sites are shown.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">criticalSiteLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn05</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut05</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT83'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.SiteInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">siteL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:layerDefinitions&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:String&gt;</span><span class="MXMLDefault_Text">IsPoly=0</span><span class="MXMLComponent_Tag">&lt;/fx:String&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Points layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/classes:layerDefinitions&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">0</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">CSN points layer</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">1</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">CSN polygon layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IBA layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The IBA sites layer represents the point and polygon IBA sites (the third and fourth layers) in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer. Unlike the species layers, there are no definition expressions on the sites layers since all sites are shown.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ibaLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ibaMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT122'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.SiteInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ibaL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">2</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IBA points layer</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">3</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IBA polygons layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Site IWC Layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The IWC layer represents the point locations of IWC sites (the fifth layer) in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer. Unlike the species layers, there are no definition expressions on the sites layers since all sites are shown.</span><span class="MXMLASDoc">--&gt;</span>
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment">        &lt;classes:MyFeatureLayer url="http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer/4" minScale="{STATIC_DYNAMIC_SCALE_CUT_OFF}" includeIn="site" visible="{sitesBox.iwcMap.selected}" outFields="[Name,CountryCode,SiteCode]" showEffect="{fadeIn07}" hideEffect="{fadeOut07}" legendCaption="{resourceManager.getString('myResources', 'TEXT85')}" symbol="{iwcSymbol}" infoWindowRenderer="wcmc.infoWindows.IWCSimpleInfoWindow"/&gt;</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">iwcLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">iwcMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT149'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.IWCSimpleInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesIWCL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">4</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">IWC layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
    
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Site WDPA layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The WDPA layer represents the point and polygon WDPA sites (the 6th and 7th layers) in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer. Unlike the species layers, there are no definition expressions on the sites layers since all sites are shown.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">wdpaLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wdpaMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT87'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.WDPAInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wdpaL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">5</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">WDPA points layer</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">6</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">WDPA polygons layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> PPE layer CURRENTLY NOT IMPLEMENTED
        &lt;classes:GeoJSONLayer includeIn="site" visible="{sitesBox.ppeMap.selected}" legendCaption="ProtectedPlanet data" symbol="{wdpaPointSymbol}" updateEnd="geojsonlayer1_updateEndHandler(event)"/&gt;</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Site Ramsar layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The Ramsar layer represents the point and polygon Ramsar sites (the 8th and 9th layers) in the MapService available through the ArcGIS Server REST Directory: http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer. Unlike the species layers, there are no definition expressions on the sites layers since all sites are shown.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ramsarLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Sites/MapServer</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ramsarMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT91'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.RamsarInfoWindow</span><span class="MXMLDefault_Text">" legendImage="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ramsarL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">7</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Ramsar points layer</span><span class="MXMLComment">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">8</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span><span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Ramsar polygon layer</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
    
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Polygon Draw layer</span><span class="MXMLComment">--&gt;</span>
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment">        &lt;esri:GraphicsLayer id="drawLayer" showEffect="{fadeIn07}" hideEffect="{fadeOut07}" includeIn="species" visible="{speciesBox.iwcCustomAreaTool.selected}"/&gt;</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">REPORTS PAGE LAYERS</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports site layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The layer containing the sites matching the currently selected values in the filterBox, e.g. if the user selects Albania in the filterBox, then only the sites for Albania will be shown on the map using this layer.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyFeatureLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">sitePointsLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Reports/MapServer/1</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">reports</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSites</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" outFields="</span><span class="MXMLString">[Name,SiteRecID,Country,IsIBA,Protected,IBASpc,CSNSpc,Total]</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut07</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" legendCaption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT83'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" mode="</span><span class="MXMLString">snapshot</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.SiteListInfoWindow</span><span class="MXMLDefault_Text">" renderer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">siteListRenderer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentRenderer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">CONTEXTUAL LAYERS</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">AEWA Boundary layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Dynamic map service with the AEWA boundary outline.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">aewaLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/ContextualData/MapServer</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">aewaBoundary</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showlegend="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">" loadError="</span><span class="ActionScriptDefault_Text">aewaLayer_loadErrorHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">0</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>
        
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Demo sites layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Dynamic map service with the Demo sites</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">demoSitesLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/ContextualData/MapServer</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">demoSites</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showlegend="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.DemoSitesInfoWindow</span><span class="MXMLDefault_Text">" imageFormat="</span><span class="MXMLString">png32</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">1</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>

        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Gap sites layer</span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Dynamic map service with the Gap sites</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;classes:MyArcGISDynamicMapServiceLayer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">gapSitesLayer</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/ContextualData/MapServer</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">gapSites</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut10</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showlegend="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">" infoWindowRenderer="</span><span class="MXMLString">wcmc.infoWindows.GapSitesInfoWindow</span><span class="MXMLDefault_Text">" imageFormat="</span><span class="MXMLString">png32</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;classes:visibleLayers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Number&gt;</span><span class="MXMLDefault_Text">2</span><span class="MXMLComponent_Tag">&lt;/fx:Number&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>                 
            <span class="MXMLComponent_Tag">&lt;/classes:visibleLayers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/classes:MyArcGISDynamicMapServiceLayer&gt;</span>

    <span class="MXMLComponent_Tag">&lt;/components:MyMap&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Map navigation controls</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:ControlBar</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" horizontalAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Map navigation controls.</span><span class="MXMLASDoc">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:ToggleButtonBar</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">navBar</span><span class="MXMLDefault_Text">" creationComplete="</span><span class="ActionScriptDefault_Text">navBar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedIndex</span><span class="ActionScriptOperator">=</span>-1<span class="MXMLDefault_Text">" valueCommit="</span><span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">navBar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedIndex</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemClick="</span><span class="ActionScriptDefault_Text">navigationToolClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" toggleOnClick="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:dataProvider&gt;</span>
                <span class="MXMLComponent_Tag">&lt;fx:Array&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> icon="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomIn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT178'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> icon="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomOut</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT179'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> icon="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pan</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT180'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/fx:Array&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/mx:dataProvider&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:ToggleButtonBar&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:ControlBar</span><span class="MXMLDefault_Text"> horizontalGap="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomToPrevExtent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" enabled="</span><span class="MXMLString">{</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isFirstExtent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" icon="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isFirstExtent</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">previousImg</span> : <span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">previousDisabledImg</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT181'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomToNextExtent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" enabled="</span><span class="MXMLString">{</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isLastExtent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" icon="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isLastExtent</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">nextImg</span> : <span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">nextDisabledImg</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT182'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:ControlBar&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomToFullExtent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" icon="</span><span class="MXMLString">@Embed(source='images/full.png')</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT183'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:ControlBar&gt;</span>        
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Basemap gallery</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The basemapGallery is a custom box that allows the user to change the base map data for the application. @see wcmc.components.BasemapGallery</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:BasemapGallery</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">basemapGallery</span><span class="MXMLDefault_Text">" basemapChanged="</span><span class="ActionScriptDefault_Text">basemapChanged</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basemapSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" show="</span><span class="ActionScriptDefault_Text">basemapGallery_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hide="</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basemapSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Button to show the infoPanel again after it has been hidden</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;supportClasses:InfoWindowCloseButton</span><span class="MXMLDefault_Text"> right="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">100</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT184'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" click="</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Legend</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The Legend component shows information about the currently visible layers in the map, such as the layers names and symbology. @see wcmc.components.Legend</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:Legend</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">legend</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">legendSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hideEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeOut</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showEffect="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fadeIn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" hide="</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">legendSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">" filters="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">shadow</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Time slider toolbar</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The timesliderToolbar is a box which shows the user a slider control to control the year for the IWC data.</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">timesliderToolbar</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSliderTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'species'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" show="</span><span class="ActionScriptDefault_Text">timesliderToolbar_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" minHeight="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" minWidth="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" horizontalAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:BoxHeader</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">timesliderToolbar</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" caption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT134'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">myDateFormatter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">format</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeSlider</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">endTime</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" boxClosed="</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSliderTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The timeSlider is the actual control the controls the time-period for the map control.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;esri:TimeSlider</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">timeSlider</span><span class="MXMLDefault_Text">" skinClass="</span><span class="MXMLString">wcmc.skins.MyTimeSliderSkin</span><span class="MXMLDefault_Text">" singleThumbAsTimeInstant="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>        
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Info panel</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The info panel is the main viewport to the application and contains all of the items that the user will interact with, apart from popups like data tables. It contains components that are displayed according to what state the application is in.</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">infoPanel</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">450</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">750</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" verticalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">-</span> 20<span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">-</span>20<span class="MXMLString">}</span><span class="MXMLDefault_Text">" x="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">13</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The switcher is the navigation control for the infoPanel which sets the state of the application. @see wcmc.components.Switcher</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:Switcher</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">switcher</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The welcomeBox is the box that is loaded when the state of the application is 'home'. This is the default state on loading. @see wcmc.components.WelcomeBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:WelcomeBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">welcomeBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">home</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span> 
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The speciesSearchBox is the box that is loaded when the state of the application is 'speciesSearch'. @see wcmc.components.SpeciesSearchBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:SpeciesSearchBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">speciesSearchBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">speciesSearch</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" commonNameField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dao="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">dao</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span> 
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The siteSearchBox is the box that is loaded when the state of the application is 'siteSearch'. @see wcmc.components.SiteSearchBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:SiteSearchBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">siteSearchBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">siteSearch</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The speciesBox is the box that is loaded when the state of the application is 'species'. @see wcmc.components.SpeciesBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:SpeciesBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">speciesBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">species</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span> 
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The sitesBox is the box that is loaded when the state of the application is 'sitesBox'. @see wcmc.components.SitesBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:SitesBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">sitesBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">site</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span> 
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The reportsBox is the box that is loaded when the state of the application is 'reports'. @see wcmc.components.ReportsBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportsBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportsBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">reports</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dao="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">dao</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemCreationPolicy="</span><span class="MXMLString">immediate</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The infoBox is the box that is loaded when the state of the application is 'info'. @see wcmc.components.InfoBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:InfoBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">infoBox</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">info</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The toolbox is shown at the bottom of the infoPanel is is used to control the switching on/off of the contextual layers and to show/hide the legend and the Basemap gallery. It also allows the user to set the language and print the map. @see wcmc.components.Toolbox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:Toolbox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">toolbox</span><span class="MXMLDefault_Text">" csn="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Draw toolbar for user-defined polygon</span><span class="MXMLComment">--&gt;</span>
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment">    &lt;components:MyBorderContainer id="drawToolbar" styleName="InformationPanel" visible="{((speciesBox.iwcCustomAreaTool.selected)&amp;amp;&amp;amp;(currentState=='species'))}" minHeight="0" show="drawToolbar_showHandler(event)"&gt;
        &lt;s:BorderContainer styleName="ContentPanel" right="5" bottom="5" top="5" left="5" minHeight="0"&gt;
            &lt;s:VGroup paddingBottom="8" paddingLeft="10" paddingTop="10" paddingRight="10" horizontalAlign="center"&gt;
                &lt;components:BoxHeader dragComponent="{drawToolbar}" target="{map}" caption="Draw toolbar" boxClosed="speciesBox.iwcCustomAreaTool.checkBox.selected=false;drawTools.deactivateTool();"/&gt;
                &lt;components:DrawToolbar id="drawTools" map="{map}" drawLayer="{drawLayer}" creationComplete="drawToolbar_creationCompleteHandler(event)" drawToolActivated="resetDrawTool(event)" drawToolDeactivated="resetDrawTool(event)"/&gt;
            &lt;/s:VGroup&gt;
        &lt;/s:BorderContainer&gt;
    &lt;/components:MyBorderContainer&gt;</span><span class="MXMLComment">--&gt;</span>        
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species critical sites data table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A custom border container that shows information relating to the critical sites for a species. @see wcmc.components.MyBorderContainer</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">csnDataTable</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">csnMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'species'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT185'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">boxLabel</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The renderer chooser for the critical site data.</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:RendererChooser</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">csnRenderer</span><span class="MXMLDefault_Text">" renderers="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnRenderers</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:DragBox</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnDataTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyCloseButton</span><span class="MXMLDefault_Text"> closeTarget="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnDataTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The data grid that shows information on the critical sites. This data grid is bound to the features in the csnFeatureLayer.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:MyDataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">csnDataGrid</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnFeatureLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">features</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" featureLayer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnFeatureLayer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemClick="</span><span class="ActionScriptDefault_Text">datagrid_itemClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOver="</span><span class="ActionScriptDefault_Text">dataGrid_ItemRollOver</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOut="</span><span class="ActionScriptDefault_Text">datagrid_itemRollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT28'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.CountryRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">countrySortCompare</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCountry</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT186'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Name</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSitename</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPopulation</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT159'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Season</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSeason</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT187'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearStart</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wStart</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT188'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearEnd</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEnd</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT189'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMin</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMin</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT190'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMax</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMax</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT191'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMean</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMean</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT192'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Unit</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wUnits</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT193'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PercentFlyway</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">percentSortCompare</span><span class="MXMLDefault_Text">" labelFunction="</span><span class="MXMLString">getPercentFlyway</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPercentPop</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT194'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.TicRenderer1</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCSN1</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT195'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.TicRenderer2</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCSN2</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT196'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.TicRenderer3</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBA</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare3</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT197'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">IBACriteria</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">70</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBACriteria</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wProtected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wLink</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/components:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/components:MyDataGrid&gt;</span> 
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">csnDataGrid</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT199'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">commonName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportOrientation="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Orientation</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LANDSCAPE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=species&amp;amp;SpcRecID={</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species IBA data table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A custom border container that shows information relating to the IBA sites for a species. @see wcmc.components.MyBorderContainer</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ibaDataTable</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ibaMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'species'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT224'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">boxLabel</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The renderer chooser for the IBA site data.</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:RendererChooser</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ibaRenderer</span><span class="MXMLDefault_Text">" renderers="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaRenderers</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:DragBox</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaDataTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyCloseButton</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">ibaDataTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The data grid that shows information on the IBA sites. This data grid is bound to the features in the ibaFeatureLayer.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:MyDataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">ibaDataGrid</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaFeatureLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">features</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" featureLayer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaFeatureLayer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemClick="</span><span class="ActionScriptDefault_Text">datagrid_itemClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOver="</span><span class="ActionScriptDefault_Text">dataGrid_ItemRollOver</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOut="</span><span class="ActionScriptDefault_Text">datagrid_itemRollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT28'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.CountryRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">countrySortCompare</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCountry</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT186'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Name</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSitename</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT159'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Season</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSeason</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT187'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearStart</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wStart</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT188'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearEnd</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEnd</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT189'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMin</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMin</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT190'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMax</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMax</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT191'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMean</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMean</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT192'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Unit</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wUnits</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT197'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">IBACriteria</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBACriteria</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wProtected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wLink</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/components:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/components:MyDataGrid&gt;</span> 
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ibaDataGrid</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT200'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">commonName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportOrientation="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Orientation</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LANDSCAPE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=species&amp;amp;SpcRecID={</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Species Waterbird Population Estimates table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A custom border container that shows information relating to the waterbird populations for a species. @see wcmc.components.MyBorderContainer</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">wpeDataTable</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wpeTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'species'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" show="</span><span class="ActionScriptDefault_Text">wpeDataTable_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:BoxHeader</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wpeDataTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" caption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT117'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" boxClosed="</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wpeTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The data grid that shows information on the waterbird population estimates for a species. This data grid is bound to the data from the DAO.getWaterbirdPopulationEstimates method. @see wcmc.classes.DAO</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">wpeTable</span><span class="MXMLDefault_Text">" rowCount="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wpeTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dataProvider</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getWaterbirdPopulationEstimates</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPopulation</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT201'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Estimate</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEstimate</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT202'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Trend</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wTrend</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT203'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">OnePercentCalc</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wpeTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT204'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">commonName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=species&amp;amp;SpcRecID={</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Site species list table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A custom border container that shows information on all species recorded for a site.</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">speciesListDataTable</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'site'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:BoxHeader</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesListDataTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" caption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT93'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" boxClosed="</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Data grid showing all species occuring for a site. This data grid is bound to the DAO.getSpeciesList method. @see wcmc.classes.DAO</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">speciesListTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getSpeciesList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">siteRecID</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT208'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wScientific</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">speciesCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT205'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCommon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPopulation</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT159'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Season</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSeason</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT187'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearStart</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wStart</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT188'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">YearEnd</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEnd</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT189'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMin</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMin</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT190'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMax</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMax</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT191'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PopMean</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wMean</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT192'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Unit</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wUnits</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT193'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">PercentFlyway</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">percentSortCompare</span><span class="MXMLDefault_Text">" labelFunction="</span><span class="MXMLString">getPercentFlyway</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPercentPop</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT194'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteSpeciesListTicRenderer1</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCSN1</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT195'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteSpeciesListTicRenderer2</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCSN2</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT196'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteSpeciesListTicRenderer3</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBA</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare3</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT197'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">IBACriteria</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBACriteria</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT206'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.IWCTrendRenderer</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">70</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare4</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wLink</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesListTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT207'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportOrientation="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Orientation</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LANDSCAPE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=site&amp;amp;SiteRecID={</span><span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">siteRecID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports Matching species table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">A custom border container that shows a list of matching species in the reports page when the user selects values in the filterBox.</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSpeciesList</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSpecies</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'reports'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" movedToFront="</span><span class="ActionScriptDefault_Text">reportSpeciesList_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:BoxHeader</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSpeciesList</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" caption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT93'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" boxClosed="</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSpecies</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Data grid that shows a list of matching species in the reports page when the user selects values in the filterBox. It is bound to the reportsBox.filteredSpecies ArrayCollection. @see wcmc.components.ReportsBox</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:MyDataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSpeciesListTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filteredSpecies</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT208'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Species</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wScientific</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">speciesCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT205'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCommon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wLink</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/components:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/components:MyDataGrid&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSpeciesListTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT93'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" outputFilters="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" filterCollection="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterCollection</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports - Matching sites table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The reportSiteList box is the box showing matching sites in the Reports page when the user selects items from the filter. The contents of this box are bound to the matching siteRecIDs in the filterBox.</span><span class="MXMLASDoc">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSiteList</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSites</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'reports'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" movedToFront="</span><span class="ActionScriptDefault_Text">reportSpeciesList_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT185'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">boxLabel</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The siteListRenderer is used to render the features in the site list layer. @see sitePointsLayer</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:RendererChooser</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">siteListRenderer</span><span class="MXMLDefault_Text">" renderers="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">siteListRenderers</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">180</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:DragBox</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSiteList</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyCloseButton</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">reportSiteList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSites</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:Canvas&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:SWFLoader</span><span class="MXMLDefault_Text"> source="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loader</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" verticalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Custom data grid that is bound to the features in the sitePointsLayer. This data grid shows all of the matching sites according to the values currently selected in the filterBox.</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyDataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSiteListTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitePointsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">features</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" featureLayer="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sitePointsLayer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">sitePointsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loading</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemClick="</span><span class="ActionScriptDefault_Text">datagrid_itemClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOver="</span><span class="ActionScriptDefault_Text">dataGrid_ItemRollOver</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" itemRollOut="</span><span class="ActionScriptDefault_Text">datagrid_itemRollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;components:columns&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT28'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.CountryRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">countrySortCompare</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCountry</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT186'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Name</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wSitename</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT196'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.TicRenderer3</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wIBA</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">booleanCompare3</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT198'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Protected</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wProtected</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT209'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">CSNSpc</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">70</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">csnSpCountCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT210'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">IBASpc</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">70</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">ibaSpCountCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT243'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Total</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">83</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">20</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SiteLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/components:columns&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/components:MyDataGrid&gt;</span> 
                <span class="MXMLComponent_Tag">&lt;/mx:Canvas&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSiteListTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT211'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" outputFilters="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" filterCollection="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterCollection</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports - Species list for a country table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The reportSpeciesListForCountry box is the box showing species that occur in a country based on the currently selected country in the countryDropDown control.</span><span class="MXMLASDoc">--&gt;</span>    
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSpeciesListForCountry</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'reports'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" movedToFront="</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountry_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT66'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">boxLabel</span><span class="MXMLDefault_Text">" creationComplete="</span><span class="ActionScriptDefault_Text">countryQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">execute</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countryQuery</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The countryDropDown is a simple drop down control that shows a list of all AEWA countries from the countryQueryTask. These items are rendererd using the CountryFilterRenderer2 renderer.</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">countryDropDown</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getSortedCountries</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countryQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">executeLastResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.CountryFilterRenderer2</span><span class="MXMLDefault_Text">" change="</span><span class="ActionScriptDefault_Text">countryComboBox_changeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">190</span><span class="MXMLDefault_Text">" labelField="</span><span class="MXMLString">Name</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:DragBox</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountry</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyCloseButton</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Data grid that is bound to the features that are returned in the countrySpeciesQueryTask when the user selects a country in the countryDropDown control.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportSpeciesListForCountryTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sortCountrySpeciesList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">countrySpeciesQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">executeLastResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT208'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Species</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wScientific</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">speciesCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT205'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCommon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT212'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Description</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">60</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">20</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportSpeciesListForCountryTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT207'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">countryDropDown</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Name</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" outputFilters="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" filterCollection="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">allSpeciesFilter</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports - population list for a country table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The reportFlywayListForCountry box is the box showing species flyways that occur in a country based on the currently selected country in the countryDropDown2 control.</span><span class="MXMLASDoc">--&gt;</span>    
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportPopListForCountry</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportFlywayListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'reports'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" movedToFront="</span><span class="ActionScriptDefault_Text">reportPopListForCountry_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT213'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">boxLabel</span><span class="MXMLDefault_Text">" creationComplete="</span><span class="ActionScriptDefault_Text">countryQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">execute</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countryQuery</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The countryDropDown2 is a simple drop down control that shows a list of all AEWA countries from the countryQueryTask. These items are rendererd using the CountryFilterRenderer2 renderer.</span><span class="MXMLASDoc">--&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">countryDropDown2</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getSortedCountries</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countryQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">executeLastResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.CountryFilterRenderer2</span><span class="MXMLDefault_Text">" change="</span><span class="ActionScriptDefault_Text">countryDropDown2_changeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">190</span><span class="MXMLDefault_Text">" labelField="</span><span class="MXMLString">Name</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:DragBox</span><span class="MXMLDefault_Text"> dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportPopListForCountry</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;components:MyCloseButton</span><span class="MXMLDefault_Text"> click="</span><span class="ActionScriptDefault_Text">reportPopListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportFlywayListForCountry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Data grid that is bound to the features that are returned in the countryPopulationQueryTask when the user selects a country in the countryDropDown2 control.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportFlywayListForCountryTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">sortCountrySpeciesList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">populationFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flywaysQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">executeLastResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT208'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Species</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wScientific</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">speciesCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT205'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCommon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPopulation</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT201'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Estimate</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEstimate</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">Estimate</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT203'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">OnePercentCalc</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">onePercentCompare</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wOnePercent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT250'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">AEWAStatus</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wAEWAStatus</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">20</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportFlywayListForCountryTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT214'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">} {</span><span class="ActionScriptDefault_Text">countryDropDown2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Name</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportOrientation="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Orientation</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LANDSCAPE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">Reports - population list for a point table</span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">The speciesPointDataTable box is the box showing species that occur for a user-defined point. These features are contained in the arrayCollection speciesListForPoints which is created when the user activates the species list for point tool and clicks on the map.</span><span class="MXMLASDoc">--&gt;</span>    
    <span class="MXMLComponent_Tag">&lt;components:MyBorderContainer</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">reportPopListForPoint</span><span class="MXMLDefault_Text">" styleName="</span><span class="MXMLString">InformationPanel</span><span class="MXMLDefault_Text">" horizontalCenter="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportFlywayListForPoint</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">'reports'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" show="</span><span class="ActionScriptDefault_Text">speciesPointDataTable_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" hide="</span><span class="ActionScriptDefault_Text">speciesPointDataTable_hideHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" movedToFront="</span><span class="ActionScriptDefault_Text">reportPopListForPoint_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
        <span class="MXMLComponent_Tag">&lt;s:BorderContainer</span><span class="MXMLDefault_Text"> styleName="</span><span class="MXMLString">ContentPanel</span><span class="MXMLDefault_Text">" right="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" bottom="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> paddingLeft="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingBottom="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">" paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">" paddingTop="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:BoxHeader</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">popListHeader</span><span class="MXMLDefault_Text">" dragComponent="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportPopListForPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" caption="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT215'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" boxClosed="</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reportFlywayListForPoint</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLASDoc">&lt;!---</span><span class="MXMLASDoc">Data grid that is bound to the speciesListForPoints ArrayCollection that is created when the user activates the species list for point tool and clicks on the map.</span><span class="MXMLASDoc">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">speciesPointTable</span><span class="MXMLDefault_Text">" dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pointFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flywaysQueryTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">executeLastResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT208'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Species</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wScientific</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesRenderer</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">speciesCompare</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT205'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wCommon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT158'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wPopulation</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">Flyway</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT201'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">Estimate</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wEstimate</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" showDataTips="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" dataTipField="</span><span class="MXMLString">Estimate</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT203'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">OnePercentCalc</span><span class="MXMLDefault_Text">" textAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">" sortCompareFunction="</span><span class="MXMLString">onePercentCompare</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wOnePercent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT250'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" dataField="</span><span class="MXMLString">AEWAStatus</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">wAEWAStatus</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText="</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">20</span><span class="MXMLDefault_Text">" itemRenderer="</span><span class="MXMLString">wcmc.renderers.SpeciesLinkRenderer</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span> 
                <span class="MXMLComponent_Tag">&lt;components:ReportToolbar</span><span class="MXMLDefault_Text"> dataGrid="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">speciesPointTable</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" reportTitle="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT216'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}{</span><span class="ActionScriptDefault_Text">clickPointLat</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}{</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT217'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}{</span><span class="ActionScriptDefault_Text">clickPointLong</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">})</span><span class="MXMLDefault_Text">" outputDate="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">" reportLink="</span><span class="MXMLString">http://dev.unep-wcmc.org/csn/default.html#state=reports</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:BorderContainer&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/components:MyBorderContainer&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Script~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;fx:Script&gt;</span>
        &lt;![CDATA[
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Graphic</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TimeExtent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DrawEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ExtentEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IdentifyEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LayerEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MapMouseEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Geometry</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MapPoint</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FeatureLayer</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Layer</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">supportClasses</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TimeInfo</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IdentifyTask</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">supportClasses</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IdentifyParameters</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">supportClasses</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IdentifyResult</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">supportClasses</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Query</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GraphicUtil</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">WebMercatorUtil</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">collections</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ArrayList</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">controls</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Alert</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">controls</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Image</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IFlexDisplayObject</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">effects</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Sequence</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BrowserChangeEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FlexEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ItemClickEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ListEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">StateChangeEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BrowserManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CursorManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CursorManagerPriority</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IBrowserManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PopUpManager</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">org</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alivepdf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layout</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Orientation</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">spark</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IndexChangeEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">spark</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GlowFilter</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">AGSResult</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BasemapChangedEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Countries</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CreateIWCChartEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DAO</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EmbeddedImages</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FilterResultCompleteEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LanguageChangedEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SetSiteEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SetSpeciesEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Species</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindows</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IWCChartInfoWindow</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">wcmc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindows</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteInfoWindowWithLink</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">LANGUAGE_ENGLISH</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"English"</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">LANGUAGE_FRENCH</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"French"</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">LANGUAGE_RUSSIAN</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"Russian"</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">LANGUAGE_ARABIC</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"Arabic"</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">SHAREDOBJECT_NAME</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"mydata"</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
            * The name of the field to use when displaying any species common names. This property is set when the application loads based on the currently selected language. Any UI controls that have data bound to this property will be refreshed if it changes.//
            */</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">commonNameField</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * A reference to a global instance of the data access object. This object is used to retrieve all non-spatial data in the application back to the UI and it has a large number of methods to retrieve specific data. 
             */</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dao</span>:<span class="ActionScriptDefault_Text">DAO</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">DAO</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * Direction of text in text/label controls. This is set when the language is set - for Arabic the direction is rtl otherwise it is ltr. Some labels/text controls have their direction property bound to this variable. 
             */</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">direction</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * The localisation for the Microsoft Bing map. This is set when the language is set. Currently if the language is set to French and the Bing streets or imagery with labels is shown then the language of the labels is set to French. That is very cool.
             */</span> 
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">culture</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * The latitude where the user clicked in the 'Species List for a point' tool. This is shown in the results box.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clickPointLat</span>:<span class="ActionScriptDefault_Text">Number</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * The longitude where the user clicked in the 'Species List for a point' tool. This is shown in the results box.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clickPointLong</span>:<span class="ActionScriptDefault_Text">Number</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptASDoc">/**
             * Contains the user-defined point when the user clicks on the map when the 'Species list for a point' tool is active.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clickPoint</span>:<span class="ActionScriptDefault_Text">MapPoint</span>;
            <span class="ActionScriptASDoc">/**
             * Cookie that is stored on the clients browser that persists a number of variables in the application including the language, filters and current map.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mySO</span>:<span class="ActionScriptDefault_Text">SharedObject</span>;
            <span class="ActionScriptASDoc">/**
             * Used the highlight a Graphic when the user moves the mouse over a data item in a bound data grid, e.g. a critical site.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">currentGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span>;
            <span class="ActionScriptASDoc">/**
             * Used to control the state of the navigation tools in the map.  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mapMode</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"normal"</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_language</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wCountry</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>105; <span class="ActionScriptComment">//width of country column
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wSitename</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>160; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wPopulation</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>90; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wSeason</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>69; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wStart</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>34; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wEnd</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>34; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wMin</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>44; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wMax</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>44; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wMean</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>44; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wUnits</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>60; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wPercentPop</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>38; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wCSN1</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>37; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wCSN2</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>37; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wIBA</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>37; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wIBACriteria</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>64; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wProtected</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>60; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wLink</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>19; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wScientific</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>130; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wCommon</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>130; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wEstimate</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>90; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wTrend</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>90; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wOnePercent</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>67; 
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">wAEWAStatus</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>70; 
            
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">// INITIALISATION AND STARTUP CODE
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Called on application initialisation. Loads the shared object to initialise the map, language and page title. It then adds event listeners for setting species, setting sites and creating IWC charts. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initialise</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">mySO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">SharedObject</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getLocal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SHAREDOBJECT_NAME</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//By default on a Mac: /Users/andrewcottam/Library/Preferences/Macromedia/Flash Player/#SharedObjects/T4S7ZKE6/localhost/myData.sol
</span>                <span class="ActionScriptDefault_Text">setBaseMap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the Basemap
</span>                <span class="ActionScriptDefault_Text">setLanguage</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the language of the application
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">browserManager</span>:<span class="ActionScriptDefault_Text">IBrowserManager</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the instance of the browser manager 
</span>                <span class="ActionScriptDefault_Text">browserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">BrowserChangeEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BROWSER_URL_CHANGE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseURL</span><span class="ActionScriptBracket/Brace">)</span>;  <span class="ActionScriptComment">//used to manage history and the browser navigation
</span>                <span class="ActionScriptDefault_Text">browserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"state=home"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the title of the application                
</span>                <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SetSpeciesEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SETSPECIES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">setSpecies</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//setSpecies is called from either a direct url, e.g. csn.html#state=species&amp;SpcRecID=3005 or via selecting a species in the SpeciesSearch box
</span>                <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SetSiteEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SETSITE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">setSite</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//setSite is called from either a direct url, e.g. csn.html#state=site&amp;SiteRecID=3005 or via selecting a site in the SiteSearch box
</span>                <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">CreateIWCChartEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CREATEIWCCHART</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">createIWCChartForSiteID</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create an event listener for when the user moves their mouse over the symbol for a chart in the species for a site table - this pops up the chart
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Parses the url and gets the parameters as a Dictionary object and then sets the application state and loads species/site data if it is a direct call 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">parseURL</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">BrowserChangeEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">params</span>:<span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getUrlParameters</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the url parameters
</span>                <span class="ActionScriptDefault_Text">parseParams</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//parse them 
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Returns all of the parameters in the current url
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getUrlParameters</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Dictionary</span>
            <span class="ActionScriptBracket/Brace">{</span>
               <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">urlParams</span>:<span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; 
               <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">paramStr</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fragment</span>;
               <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">paramStr</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">params</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">paramStr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"&amp;"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                   <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">kv</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">params</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"="</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">urlParams</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">kv</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">kv</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span> 
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">urlParams</span>;
            <span class="ActionScriptBracket/Brace">}</span>            
            <span class="ActionScriptASDoc">/**
             * Parses the current url parameters and sets the state of the application and gets the relevant data if it is a species or site state.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">parseParams</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span>:<span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">state</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">state</span>;
                <span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">state</span>;    <span class="ActionScriptComment">//set the current state        
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SpcRecID</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">getSpeciesInfo</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SpcRecID</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//retrieve the information for that species from the server
</span>                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteRecID</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">getSiteInfo</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">params</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteRecID</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//retrieve the information for that site from the server
</span>                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Called if the url contains SpcRecID= as a parameter, i.e. the species page is being called directly. This gets the species data and then populates the species page  
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSpeciesInfo</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SpcRecID</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SPECIES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesInfoRetrieved</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add the listener
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getSpecies</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">,</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayCollection</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">SpcRecID</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the species data for the SpcRecID 
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Asynchronous return call with the species information.
             */</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">speciesInfoRetrieved</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SPECIES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesInfoRetrieved</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove the listener
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">setSpecies</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SetSpeciesEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SetSpeciesEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SETSPECIES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Species</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the species data - this calls setSpecies function
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Called if the url contains SiteRecID= as a parameter, i.e. the sites page is being called directly. This gets the sites data and then populates the sites page
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSiteInfo</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SiteRecID</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SITE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteInfoRetrieved</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add the listener
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getSite</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SiteRecID</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the site data for the SiteRecID 
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Asynchronous return call with the site information.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">siteInfoRetrieved</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SITE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteInfoRetrieved</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">setSite</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SetSiteEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SetSpeciesEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SETSPECIES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the site data - this calls setSite function
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * When the user changes the state of the application, then this is reflected in the url.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">application1_currentStateChangeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">StateChangeEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hide</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//hide the map info window when switching states
</span>                <span class="ActionScriptDefault_Text">removePopups</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//removes the filter boxes and other popups that were created by the popup manager
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">"species"</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newState</span><span class="ActionScriptOperator">==</span><span class="ActionScriptString">"site"</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>; <span class="ActionScriptComment">//the title for these states is set in the setSpecies and setSites functions
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">iBrowserManager</span>:<span class="ActionScriptDefault_Text">IBrowserManager</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//get the browser manager instance
</span>                <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setFragment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"state="</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newState</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the parameter in the url to reflect the state
</span>                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newState</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//set the title according to the state
</span>                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"speciesSearch"</span>:
                        <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT218'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"siteSearch"</span>:
                        <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT219'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"reports"</span>:
                        <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT220'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"info"</span>:
                        <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT221'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>
                    <span class="ActionScriptReserved">default</span>:
                        <span class="ActionScriptDefault_Text">iBrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Sets the language of the application based on the contents of the mySO shared object. If it is not set, then the default is English. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setLanguage</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">language</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">language</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">language</span> : <span class="ActionScriptDefault_Text">language</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">LANGUAGE_ENGLISH</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Sets the base map of the application based on the contents of the mySO shared object. If it is not set, then the default is the ESRI Streets map.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setBaseMap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span> : <span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DEFAULTBASEMAP</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * The language that is used in the user interface. The language that is set for the UI can be changed on the fly as all of the text strings used in the application are compiled into the swf file. Setting the language also sets the commonNameField.
             */</span>             
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">language</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_language</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">language</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">language</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">value</span>;
                <span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flush</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LANGUAGE_ENGLISH</span><span class="ActionScriptBracket/Brace">)</span>:
                        <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">localeChain</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">'en_US'</span><span class="ActionScriptBracket/Brace">]</span>;
                        <span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"NameEN"</span>;
                        <span class="ActionScriptDefault_Text">culture</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"en-US"</span>; <span class="ActionScriptComment">//changes the language for Microsoft Bing maps
</span>                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LANGUAGE_FRENCH</span><span class="ActionScriptBracket/Brace">)</span>:
                        <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">localeChain</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">'fr_FR'</span><span class="ActionScriptBracket/Brace">]</span>;
                        <span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"NameFR"</span>;
                        <span class="ActionScriptDefault_Text">culture</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"fr-FR"</span>; <span class="ActionScriptComment">//changes the language for Microsoft Bing maps
</span>                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LANGUAGE_RUSSIAN</span><span class="ActionScriptBracket/Brace">)</span>:
                        <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">localeChain</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">'ru_RU'</span><span class="ActionScriptBracket/Brace">]</span>;
                        <span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"NameRU"</span>;
                        <span class="ActionScriptDefault_Text">culture</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"en-US"</span>; <span class="ActionScriptComment">//changes the language for Microsoft Bing maps
</span>                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LANGUAGE_ARABIC</span><span class="ActionScriptBracket/Brace">)</span>:
                        <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">localeChain</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">'ar_AE'</span><span class="ActionScriptBracket/Brace">]</span>;
                        <span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"NameAR"</span>;
                        <span class="ActionScriptDefault_Text">culture</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"en-US"</span>; <span class="ActionScriptComment">//changes the language for Microsoft Bing maps
</span>                        <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">LANGUAGE_ARABIC</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">layoutDirection</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">'rtl'</span>; <span class="ActionScriptComment">//this is bound to the application direction property which is inherited by all controls so setting this to rtl mirrors all components for Arabic, including the map - so this must be overriden in the map object.
</span>                    <span class="ActionScriptDefault_Text">direction</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"rtl"</span>; <span class="ActionScriptComment">//sets the text in some text/label controls
</span>                    <span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">left</span><span class="ActionScriptOperator">=</span>20; <span class="ActionScriptComment">//because the infoPanel would move to the opposite side of the screen when it is reversed, we must set the left property instead of the right property to keep it on the right hand side of the page
</span>                    <span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">right</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">NaN</span>; <span class="ActionScriptComment">//must be reset otherwise with both left and right set the infoPanel is nearly the width of the window
</span>                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">layoutDirection</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">'ltr'</span>;
                    <span class="ActionScriptDefault_Text">direction</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"ltr"</span>;
                    <span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">left</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">NaN</span>;
                    <span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">right</span><span class="ActionScriptOperator">=</span>20;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">_language</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">LanguageChangedEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LanguageChangedEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LANGUAGECHANGED</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//fire the language change event
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the user changes the basemap type in the basemap gallery. The new base map is stored in the shared object.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">basemapChanged</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">BasemapChangedEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapId</span>;
                <span class="ActionScriptDefault_Text">mySO</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flush</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Fired when the user clicks on one of the navigation controls.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">navigationToolClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ItemClickEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT178'</span><span class="ActionScriptBracket/Brace">)</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapMode</span><span class="ActionScriptOperator">!=</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZOOM_IN</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">setNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZOOM_IN</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomIn</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptDefault_Text">resetNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT179'</span><span class="ActionScriptBracket/Brace">)</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapMode</span><span class="ActionScriptOperator">!=</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZOOM_OUT</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">setNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZOOM_OUT</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">zoomOut</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptDefault_Text">resetNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT180'</span><span class="ActionScriptBracket/Brace">)</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapMode</span><span class="ActionScriptOperator">!=</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PAN</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">setNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">NavigationTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PAN</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pan</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptDefault_Text">resetNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Activates the navigation control. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mode</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">cursor</span>:<span class="ActionScriptDefault_Text">Class</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">resetNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mode</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">mapMode</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">mode</span>;
                <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cursor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">CursorManagerPriority</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HIGH</span><span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span><span class="ActionScriptOperator">-</span>10<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Resets the navigation bar controls.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetNavBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">navTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">mapMode</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"normal"</span>;
                <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeAllCursors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired whenever a species is selected in the application. This causes the current state to be set to 'species'; sets the browser title and url; sets the species object in the species page and refreshes the distribution map if it is visible.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setSpecies</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">SetSpeciesEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"species"</span>;
                    <span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setFragment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"state=species&amp;SpcRecID="</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">commonName</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span>;    
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">distributionMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">distributionMap</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">refresh</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired whenever a site is selected in the application. This causes the current state to be set to 'site'; sets the browser title and url; sets the site object in the sites page. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setSite</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">SetSiteEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"site"</span>;
                    <span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setFragment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"state=site&amp;SiteRecID="</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">siteRecID</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">BrowserManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTitle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT79'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" - "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">sitesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">site</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// DATA GRID SORTING AND LABELLING FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">countrySortCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">country1</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">Countries</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getCountryName</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Country</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">country2</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">Countries</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getCountryName</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Country</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">country1</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">country2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">country1</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">country2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">percentSortCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PercentFlyway</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PercentFlyway</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PercentFlyway</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PercentFlyway</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">csnSpCountCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSNSpc</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSNSpc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSNSpc</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSNSpc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ibaSpCountCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IBASpc</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IBASpc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IBASpc</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IBASpc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">booleanCompare1</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN1</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN1</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN1</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN1</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">booleanCompare2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN2</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN2</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CSN2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">booleanCompare3</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IsIBA</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IsIBA</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IsIBA</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IsIBA</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">booleanCompare4</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountOfIWCCounts</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountOfIWCCounts</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountOfIWCCounts</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountOfIWCCounts</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">speciesCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Species</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Species</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Species</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Species</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onePercentCompare</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">obj2</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">OnePercentCalc</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">OnePercentCalc</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> 0;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">OnePercentCalc</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">OnePercentCalc</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;
                <span class="ActionScriptReserved">return</span> 1;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getPercentFlyway</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">column</span>:<span class="ActionScriptDefault_Text">DataGridColumn</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">percent</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PercentFlyway</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">percent</span><span class="ActionScriptOperator">&gt;</span>1<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">percent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"%"</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PopMean</span><span class="ActionScriptOperator">==</span>0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT222'</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptString">"&lt;1%"</span>;                        
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// DRAW POLYGON AND GET IWC TIME SERIES CHARTS FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the drawToolbar has finished being created. This adds the event listeners for the user-defined polygon drawing.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawToolbar_creationCompleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptComment">//TODO: REMOVE FOR USER-DEFINED AREA
</span>            <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//                drawTools.drawTool.addEventListener(DrawEvent.DRAW_END,drawEnd);
</span><span class="ActionScriptComment">//                addEventListener(StateChangeEvent.CURRENT_STATE_CHANGE,resetDrawTool);
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the user has finished drawing the user-defined polygon.  
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawEnd</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DrawEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//                var query:Query=new Query();
</span><span class="ActionScriptComment">//                query.geometry=event.graphic.geometry;
</span><span class="ActionScriptComment">//                iwcFeatureLayer.selectionColor=0xff0000;
</span><span class="ActionScriptComment">//                iwcFeatureLayer.selectFeatures(query,"new",new AsyncResponder(onResult,null));
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the features within the user-defined polygon are returned.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onResult</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">token</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">==</span>0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">inClause</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getInClause</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the inClause for the query, e.g. 12,45,68,123
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">extent</span>:<span class="ActionScriptDefault_Text">Extent</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">GraphicUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getGraphicsExtent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//gets the extent of all of the selected graphics
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mapPoint</span>:<span class="ActionScriptDefault_Text">MapPoint</span>;
                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">==</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">mapPoint</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptDefault_Text">mapPoint</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">extent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">xmin</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">extent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ymax</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the point where the time series chart will be displayed   
</span>                <span class="ActionScriptDefault_Text">createIWCTrendChart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mapPoint</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"Time-series chart for an area"</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create the time series chart
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Creates the time-series chart for a user-defined area.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createIWCTrendChart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">inClause</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">spcRecID</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mapPoint</span>:<span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">title</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">backgroundAlpha</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span>0.9<span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">content</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">IWCChartInfoWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create a new instance of the IWCChartInfoWindow
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">content</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"backgroundAlpha"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">backgroundAlpha</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the background transparency
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">SiteCode</span>:<span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">CountryCode</span>:<span class="ActionScriptString">"xx"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">Name</span>:<span class="ActionScriptDefault_Text">title</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">SpcRecID</span>:<span class="ActionScriptDefault_Text">spcRecID</span><span class="ActionScriptBracket/Brace">}</span>; <span class="ActionScriptComment">//initialise the data object that will be bound to the time-series chart
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">data</span>; <span class="ActionScriptComment">//set the data property of the infoWindow
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapPoint</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//show the infoWindow - the infoWindow onShow event will then retrieve the actual data for the selected sites
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">staticLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setElementIndex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">staticLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">numChildren</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//move the time-series chart to the top of the display list in the maps static layer
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Gets the sites inClause from the array of selected features
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getInClause</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">==</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">features</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteCode</span>; <span class="ActionScriptComment">//if there is only one feature selected then return the site code
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">inClause</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"'"</span>;
                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">features</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//iterate through the selected features and build the inClause
</span>                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">+=</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteCode</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"','"</span>;                
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>2<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Resets the user-defined polygon drawing tools
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//                if (!drawLayer) return;
</span><span class="ActionScriptComment">//                drawLayer.clear();
</span><span class="ActionScriptComment">//                iwcFeatureLayer.clearSelection();
</span><span class="ActionScriptComment">//                map.infoWindow.hide();
</span>            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// SYNCRONISATION FUNCTIONS BETWEEN A DATATABLE AND A FEATURE LAYER SO WHEN YOU MOVE OVER AN ITEM IN A DATA GRID IT SHOWS ON THE MAP - CLICKING MOVES THE MAP
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * When the user moves the cursor over the data grid, the feature that contains that data is highlighted on the map.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">dataGrid_ItemRollOver</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ListEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">findGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">parent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setChildIndex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">parent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">numChildren</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;<span class="ActionScriptComment">//move the graphic to the front
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">glow</span>:<span class="ActionScriptDefault_Text">GlowFilter</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">GlowFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alpha</span><span class="ActionScriptOperator">=</span>0.6;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">blurX</span><span class="ActionScriptOperator">=</span>16;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">blurY</span><span class="ActionScriptOperator">=</span>16;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">color</span><span class="ActionScriptOperator">=</span>0xff0000;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">inner</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">knockout</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">quality</span><span class="ActionScriptOperator">=</span>1;
                <span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">strength</span><span class="ActionScriptOperator">=</span>8;
                <span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">glow</span><span class="ActionScriptBracket/Brace">]</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Resets the highlighted feature back to its original symbol.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">datagrid_itemRollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ListEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">resetSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * If a Graphic is currently selected then removes its selection filters, i.e. the red glow around the Graphic.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * A public utility method for searching for the Graphic on the map that contains the data that is used to populate an item in a data grid. 
             */</span>             
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">findGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ListEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Graphic</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dataGrid</span>:<span class="ActionScriptDefault_Text">MyDataGrid</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MyDataGrid</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">dataGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">featureLayer</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">attributesObject</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">itemRenderer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">dataGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">featureLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphicProvider</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">attributesObject</span><span class="ActionScriptOperator">===</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">graphic</span>;
                <span class="ActionScriptBracket/Brace">}</span>            
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">null</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Pans the map to the item that was clicked in the Data Grid and resets the hightlighted symbol.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">datagrid_itemClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ListEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">panToCurrentGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">resetSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Moves the map to the currently selected Graphic on the map. 
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">panToCurrentGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExtentEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT_CHANGE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">extentChanged</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">centerAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired after the maps extent has changed. This will show the infoWindow for a Graphic if it is currently selected - this is normally called when a user clicks on an item in a data grid, e.g. a critical site.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">extentChanged</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ExtentEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExtentEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT_CHANGE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">extentChanged</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove the listener
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>; <span class="ActionScriptComment">//if no Graphic is currently selected then return
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">iFactory</span>:<span class="ActionScriptDefault_Text">IFactory</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindowRenderer</span>; <span class="ActionScriptComment">//get the factory for the current graphics info window renderer
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">iFactory</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">content</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">iFactory</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create a new instance of the renderer as the maps infoWindow
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span>; <span class="ActionScriptComment">//bind the maps infoWindow attributes to those of the current graphic
</span>                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//show the infoWindow
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">timer</span>:<span class="ActionScriptDefault_Text">Timer</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Timer</span><span class="ActionScriptBracket/Brace">(</span>5000<span class="ActionScriptOperator">,</span>1<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//set the timer to hide the popup infoWindow after 5 seconds
</span>                <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">TimerEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TIMER_COMPLETE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">timerComplete</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add an event for the end of the timer
</span>                <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//start the timer
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Fired when the timer for a popup ends.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">timerComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">TimerEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">TimerEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TIMER_COMPLETE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">timerComplete</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hide</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// FUNCTIONS TO CREATE AND POPULATE THE SITE SPECIES LIST
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             *  Returns a list of species for the passed site.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSpeciesList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">commonNameField</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteRecID</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">ArrayCollection</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SITESPECIESLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesListReturned</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getSpeciesListForSite</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteRecID</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Asynchronous return call when the species list for a site is returned.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">speciesListReturned</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SITESPECIESLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesListReturned</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">speciesInClause</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">createSpeciesInClause</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"SpcRecID"</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the spcRecIDs for the site
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// BASEMAP GALLERY POSITIONING
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Sets the default position of the Basemap gallery.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">basemapGallery_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yPos</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basemapSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contentToGlobal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;
                <span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bottom</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">yPos</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xPos</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basemapSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contentToGlobal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">toolbox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basemapSwitch</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">,</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;
                <span class="ActionScriptDefault_Text">basemapGallery</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">right</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">xPos</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// FLYWAY LIST FOR A POINT 
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Sets the map cursor when the species list for a point tool is selected. 
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">speciesPointDataTable_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_OVER</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mouseOverMap</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_OUT</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mouseOutMap</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">mouseOverMap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EmbeddedImages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">queryPoint</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">mouseOutMap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeAllCursors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;    
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Resets the map cursor when the species list for a point tool is unselected. 
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">speciesPointDataTable_hideHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_OVER</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mouseOverMap</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_OUT</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">mouseOutMap</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeAllCursors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the user clicks on the map when the species list for a point tool is active.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_pointToolClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MapMouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapPoint</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">latLng</span>:<span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">WebMercatorUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">webMercatorToGeographic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">clickPointLat</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">latLng</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;
                <span class="ActionScriptDefault_Text">clickPointLong</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">latLng</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;
                <span class="ActionScriptDefault_Text">popListHeader</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">caption</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT216'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">clickPointLat</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT217'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">clickPointLong</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptString">")"</span>;
                <span class="ActionScriptDefault_Text">getFlywaysListForPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Returns a flyways list for a user-defined point on the map.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getFlywaysListForPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POINTFLYWAYSLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">pointSpeciesListReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add the listener
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getFlywaysForPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//call the function 
</span>                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">pointSpeciesListReturned</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POINTFLYWAYSLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesListReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove the listener
</span>                    <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pointFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcFlyRecIDs</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span>; <span class="ActionScriptComment">//bind the results to an arraycollection
</span>                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// SITE IWC TREND CHART FOR A SPECIES FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptASDoc">/**
             * Positions the draw toolbar. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawToolbar_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//                var point:Point=speciesBox.iwcCustomAreaTool.contentToGlobal(new Point());
</span><span class="ActionScriptComment">//                drawToolbar.bottom=height-point.y+!5;
</span><span class="ActionScriptComment">//                drawToolbar.x=infoPanel.x-40;
</span>            <span class="ActionScriptBracket/Brace">}</span> 

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// TIMESLIDER FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptASDoc">/**
             * Fired when the IWC time slider tool is made active. Sets the maps current time extent to 1966 and creates the time intervals for the species based on the data.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">iwcNonCumulativeTimeLayer_loadHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">LayerEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">timeSlider</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">iwcTimeExtent</span>:<span class="ActionScriptDefault_Text">TimeExtent</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TimeExtent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Date</span><span class="ActionScriptBracket/Brace">(</span>1966<span class="ActionScriptOperator">,</span>1<span class="ActionScriptOperator">,</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">iwcNonCumulativeTimeLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">endTime</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create the time extent from 1966
</span>                <span class="ActionScriptDefault_Text">timeSlider</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">createTimeStopsByTimeInterval</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">iwcTimeExtent</span><span class="ActionScriptOperator">,</span>1<span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">TimeInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">UNIT_YEARS</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Sets the startup position of the time slider toolbar.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">timesliderToolbar_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">point</span>:<span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSliderTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contentToGlobal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">timesliderToolbar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bottom</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">point</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span>15;
                <span class="ActionScriptDefault_Text">timesliderToolbar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">-</span>40;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// WPE DATA TABLE POSITIONING
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Sets the startup position of the WPE table.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">wpeDataTable_showHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">point</span>:<span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wpeTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contentToGlobal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">wpeDataTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bottom</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">point</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span>15;
                <span class="ActionScriptDefault_Text">wpeDataTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">right</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">infoPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">right</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">//// SITE IWC TREND CHART FOR A SPECIES FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptASDoc">/**
             * Creates an IWC chart for either a single IWC site or a number of IWC sites and species using the parameters passed in the event object. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createIWCChartForSiteID</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">CreateIWCChartEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">chartImage</span>:<span class="ActionScriptDefault_Text">Image</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Image</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span>; <span class="ActionScriptComment">//the data for the IWC chart, e.g. the sitecode and species
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">point</span>:<span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">point</span>; <span class="ActionScriptComment">//where the chart will be shown
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IWCSITECODES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteCodesReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add a listener
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getIWCSiteCodesForSiteRecID</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteRecID</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//call the DAO function to get the data
</span>                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">siteCodesReturned</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IWCSITECODES</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">siteCodesReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove the listener
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">inClause</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"'"</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">==</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//if it is just one site
</span>                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteCode</span>;    
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">obj</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//iterate through all of the site codes and build the inClause
</span>                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">+=</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SiteCode</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"','"</span>;                
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>2<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptDefault_Text">createIWCTrendChart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">inClause</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SpcRecID</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toMapFromStage</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesListDataTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">speciesListDataTable</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'myResources'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">'TEXT238'</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">data</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">commonNameField</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span>1<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create the trend chart
</span>                <span class="ActionScriptBracket/Brace">}</span>                
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Returns a list of countries sorted by name. This is used in the species list for a country table.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSortedCountries</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countries</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">ArrayList</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">countries</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sortOn</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Name"</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countries</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">////  SPECIES LIST FOR A COUNTRY FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Executes the countrySpeciesQueryTask to get a list of species for the currently selected country.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">countryComboBox_changeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">IndexChangeEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">speciesFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">countryID</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">countryDropDown</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountryID</span>; <span class="ActionScriptComment">//set the countryID - this runs the relevant queries
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Sorts an array by species name.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">sortCountrySpeciesList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">array</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">array</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sortOn</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Species"</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterCollection</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filtered</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filterCollection</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getMatchingIDs</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">array</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">////  POPULATION LIST FOR A COUNTRY FUNCTIONS
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>
            <span class="ActionScriptASDoc">/**
             * User has selected a country. Get the matching SpcFlyRecIDs for this country then set this set of IDs on the filter and get the matching full species flyway data from the server.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">countryDropDown2_changeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">IndexChangeEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COUNTRYFLYWAYSLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">flywayIDsReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//add a listener
</span>                <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getFlywaysForCountry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">countryDropDown2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CountryID</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">flywayIDsReturned</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">dao</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AGSResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COUNTRYFLYWAYSLIST</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">flywayIDsReturned</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove the listener
</span>                    <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">populationFilterBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcFlyRecIDs</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">results</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             *  Removes any filter dialogs and the other popup boxes (e.g. license agreement box).
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removePopups</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span>0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">systemManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">popUpChildren</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">numChildren</span>;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">popup</span>:<span class="ActionScriptDefault_Text">DisplayObject</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">systemManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">popUpChildren</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">PopUpManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removePopUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popup</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IFlexDisplayObject</span><span class="ActionScriptBracket/Brace">)</span>;     
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">////  FUNCTION TO SET THE VALUE OF THE GENERALISATION OFFSET WHEN THE MAP EXTENT CHANGES
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             *  No longer used.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_extentChangeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ExtentEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptComment">//not currently used - use dynamic map services instead
</span>            <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//                (map.level&lt;10) ? maxAllowableOffset=(int((map.lods[map.level] as LOD).resolution)*4) : maxAllowableOffset=10; //only generalise fully if the map level is less than 12
</span>            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * If the user switches from a base layer with a smaller number of LODS to a higher one, the LODS need to be explicitly reset otherwise they are not picked up by the map. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">arcgistiledmapservicelayer1_loadHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">LayerEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">level</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">level</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lods</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ArcGISTiledMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tileInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lods</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">level</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">level</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptComment">////  FUNCTIONS TO REACT TO THE USER CLICKING ON THE MAP
</span>            <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>            
            <span class="ActionScriptASDoc">/**
             * Fired when the used clicks on the map. This function is used to retrieve the correct layer for the feature that was clicked on and to populate the corresponding infoWindow for that feature.
             */</span>             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_mapClickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MapMouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mapPoint</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mapServices</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getVisibleMapServices</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span>;
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">mapServices</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&gt;=</span>0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//iterate through the visible map services and build up an arraycollection of the map services that are visible
</span>                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mapServiceURL</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">mapServices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">definitionExpression</span>:<span class="ActionScriptDefault_Text">String</span>;
                    <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layerIds</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getVisibleLayers</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Species"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">||</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"IWCTimeSlider"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> 
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layerDefinitions</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getDefinitionExpressions</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"SpcRecID="</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">species</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spcRecID</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layerIds</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//if its a species map service then set a layer definition
</span>                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"IWCTimeSlider"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;&amp;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">speciesBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeSliderTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">timeSlider</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span> : <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>; <span class="ActionScriptComment">//if its the time slider then set the time extent
</span>                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layerDefinitions</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeExtent</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">identifyTask</span>:<span class="ActionScriptDefault_Text">IdentifyTask</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">IdentifyTask</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">identifyTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBusyCursor</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">identifyTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">IdentifyEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXECUTE_COMPLETE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">identifyCompleted</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">identifyTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">execute</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">identifyParameters</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//execute the identify task with the parameters that have been set
</span>                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Returns an array of the visible map services. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getVisibleMapServices</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">visibleServices</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">visibleServiceURL</span>:<span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layer</span>:<span class="ActionScriptDefault_Text">Layer</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">className</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"FeatureLayer"</span>:
                            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"MyFeatureLayer"</span>:
                                <span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getMapServiceURL</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">FeatureLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptBracket/Brace">)</span>;
                                <span class="ActionScriptReserved">break</span>;
                            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"ArcGISDynamicMapServiceLayer"</span>:
                            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"MyArcGISDynamicMapServiceLayer"</span>:
                                <span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span>;
                                <span class="ActionScriptReserved">break</span>;
                            <span class="ActionScriptReserved">default</span>:
                                <span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                                <span class="ActionScriptReserved">break</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;&amp;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleServices</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&lt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">visibleServices</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleServiceURL</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">visibleServices</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Iterates through all of the layers in the map to see which subLayers for the passed mapServiceURL are currently visible and returns them as an array  
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getVisibleLayers</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mapServiceURL</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">visibleLayers</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layer</span>:<span class="ActionScriptDefault_Text">Layer</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;&amp;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hasOwnProperty</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"url"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//ArcGISDynamicMapServiceLayer or FeatureLayer layers have a URL property
</span>                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">url</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getMapServiceURL</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">mapServiceURL</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//this layer is visible and being identified - so get the layerIds of the map service that are being shown
</span>                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">className</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"FeatureLayer"</span>:
                                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"MyFeatureLayer"</span>:
                                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pos</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">FeatureLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"/"</span><span class="ActionScriptBracket/Brace">)</span>;
                                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span> 
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layerID</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">FeatureLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">slice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layerID</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">==</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layerID</span><span class="ActionScriptBracket/Brace">)</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">break</span>;
                                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"ArcGISDynamicMapServiceLayer"</span>:
                                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"MyArcGISDynamicMapServiceLayer"</span>:
                                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptBracket/Brace">)</span>
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">visibleLayer</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptBracket/Brace">)</span>
                                        <span class="ActionScriptBracket/Brace">{</span>
                                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">==</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">visibleLayer</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">break</span>;
                                <span class="ActionScriptReserved">default</span>:
                                    <span class="ActionScriptReserved">break</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">visibleLayers</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Returns the name of the map service from the REST endpoint, e.g. http://dev.unep-wcmc.org/ArcGIS/rest/services/CSN/Species/MapServer would return 'Species' 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getMapServiceURL</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">restEndpoint</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">returnValue</span>:<span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pos</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">restEndpoint</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"/MapServer"</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">returnValue</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">restEndpoint</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">slice</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"MapServer"</span> : <span class="ActionScriptDefault_Text">returnValue</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">returnValue</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Creates an array of definition expressions from the passed expression and layerIDs. This is used to set the parameters of the IdentifyTask that is used when the user clicks on the map.
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getDefinitionExpressions</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">definitionExpression</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">layerIds</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">layerIds</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sort</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">count</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">layerIds</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">layerIds</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">definitionExpressions</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span>0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">count</span><span class="ActionScriptOperator">+</span>1;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">definitionExpressions</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">definitionExpression</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">definitionExpressions</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Asynchronous return call when the identifyTask has completed. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">identifyCompleted</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">IdentifyEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">identifyTask</span>:<span class="ActionScriptDefault_Text">IdentifyTask</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IdentifyTask</span>;
                <span class="ActionScriptDefault_Text">identifyTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">IdentifyEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXECUTE_COMPLETE</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">identifyCompleted</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//remove listener
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">results</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">identifyResults</span>; <span class="ActionScriptComment">//get the results array
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">results</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">results</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">identifyResult</span>:<span class="ActionScriptDefault_Text">IdentifyResult</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">results</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//show the results of the identify task by showing the infoWindow for each one on the map
</span>                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">showInfoWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">identifyResult</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">identifyTask</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Shows the infoWindow for the identify result. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">showInfoWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">identifyResult</span>:<span class="ActionScriptDefault_Text">IdentifyResult</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">identifyTaskURL</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layers</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getDynamicLayers</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">identifyTaskURL</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//get the dynamic layers from the map that are displaying features from the MapService that is being identified
</span>                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layer</span>:<span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//iterate through these layers to see which one the identified feature is in
</span>                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visibleLayers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">identifyResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layerId</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//if the dynamic layer includes the feature identified
</span>                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">MyArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MyArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindowRenderer</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">//get the infowindow renderer 
</span>                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ifactory</span>:<span class="ActionScriptDefault_Text">IFactory</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MyArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindowRenderer</span>; <span class="ActionScriptComment">//get the factory
</span>                                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">content</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">ifactory</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//create a new instance of the info renderer and set the maps infoWindow to this new instance
</span>                                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">identifyResult</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">feature</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">attributes</span>; <span class="ActionScriptComment">//bind the attributes
</span>                                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">infoWindow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">clickPoint</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//show the infoWinwod
</span>                            <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Returns an array of the ArcGISDynamicMapServiceLayers that are currently visible in the map. This is used to get the infoWindow to show when the user clicks on the map. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getDynamicLayers</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">url</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">array</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">layer</span>:<span class="ActionScriptDefault_Text">Layer</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&amp;&amp;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">layer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arcGISDynamicMapServiceLayer</span>:<span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">layer</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ArcGISDynamicMapServiceLayer</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arcGISDynamicMapServiceLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptOperator">==</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">array</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arcGISDynamicMapServiceLayer</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">array</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Creates the transitions between the application states to make the application change states more smoothly. Currently the transitions are sequences of 250ms fading out and in. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setTransitionTargets</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">StateChangeEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">showTarget</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getTarget</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">newState</span><span class="ActionScriptBracket/Brace">)</span>;            
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hideTarget</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">getTarget</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">oldState</span><span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sequence</span>:<span class="ActionScriptDefault_Text">Sequence</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Sequence</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">sequence</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">=</span>250;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fade1</span>:<span class="ActionScriptDefault_Text">Fade</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Fade</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">showTarget</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">fade1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alphaFrom</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">fade1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alphaTo</span><span class="ActionScriptOperator">=</span>1;
                <span class="ActionScriptDefault_Text">fade1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">disableLayout</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fade2</span>:<span class="ActionScriptDefault_Text">Fade</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Fade</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hideTarget</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">fade2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alphaFrom</span><span class="ActionScriptOperator">=</span>1;
                <span class="ActionScriptDefault_Text">fade2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">alphaTo</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">fade2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">disableLayout</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">sequence</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fade1</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">sequence</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fade2</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">sequence</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Gets the target for the next transition. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getTarget</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">state</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Object</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">state</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"home"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">welcomeBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"speciesSearch"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">speciesSearchBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"siteSearch"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">siteSearchBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"species"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">speciesBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"site"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">sitesBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"reports"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">reportsBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"info"</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">infoBox</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">default</span>:
                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptASDoc">/**
             * Fired if the AEWA layer fails to draw. Since this is always on by default this is a good check to see if the user is connected to the internet or if there are connection problems. 
             */</span>            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">aewaLayer_loadErrorHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">LayerEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">Alert</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Unable to connect to server"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"Critical Site Network Tool"</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reportSpeciesListForCountry_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"speciesFilter"</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reportPopListForCountry_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"flywaysFilter"</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reportSpeciesList_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"fullFilter"</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reportPopListForPoint_movedToFrontHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">reportsBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"pointFilter"</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Script&gt;</span>
<span class="MXMLComponent_Tag">&lt;/s:Application&gt;</span></pre></body>
</html>
